{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"HealthController_serviceMetadata","parameters":[],"responses":{"200":{"description":""}},"tags":["Health"]}},"/health":{"get":{"operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":""}},"tags":["Health"]}},"/metrics":{"get":{"operationId":"MonitoringController_getPrometheusMetrics","parameters":[],"responses":{"200":{"description":""}}}},"/v2/getQuote":{"get":{"operationId":"AggregatorController_getQuoteV2","summary":"Gets Bridge Quotes","description":"Returns Bridge quotes from across all aggregators","parameters":[{"name":"srcTokenAmount","required":true,"in":"query","schema":{"type":"string"}},{"name":"slippage","required":false,"in":"query","schema":{"type":"number"}},{"name":"aggIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"bridgeIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"insufficientBal","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"fee","required":false,"in":"query","description":"Custom fee rate in basis points (0-10000 bps)","schema":{"minimum":0,"maximum":100000,"type":"number"}},{"name":"resetApproval","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"refuel","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded7702","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"clientId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved quotes","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuoteResponseDto"}}}}}},"tags":["Quotes"]}},"/v2/getQuoteStream":{"get":{"operationId":"AggregatorController_getQuoteStreamV2","summary":"Gets Bridge Quotes via SSE Stream","description":"Returns Bridge quotes as Server-Sent Events, streaming quotes as they arrive from aggregators","parameters":[{"name":"srcTokenAmount","required":true,"in":"query","schema":{"type":"string"}},{"name":"slippage","required":false,"in":"query","schema":{"type":"number"}},{"name":"aggIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"bridgeIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"insufficientBal","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"fee","required":false,"in":"query","description":"Custom fee rate in basis points (0-10000 bps)","schema":{"minimum":0,"maximum":100000,"type":"number"}},{"name":"resetApproval","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"refuel","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded7702","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"clientId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"SSE stream of quotes. Each event contains a QuoteResponseDto.","content":{"text/event-stream":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/QuoteResponseDto"},"type":{"type":"string","example":"quote"},"id":{"type":"string","example":"1234567890-0"}}}}}}},"tags":["Quotes"]}},"/getQuoteStream":{"get":{"operationId":"AggregatorController_getQuoteStream","summary":"Gets Bridge Quotes via SSE Stream","description":"Returns Bridge quotes as Server-Sent Events, streaming quotes as they arrive from aggregators","parameters":[{"name":"walletAddress","required":true,"in":"query","schema":{"type":"string"}},{"name":"destWalletAddress","required":false,"in":"query","schema":{"type":"string"}},{"name":"srcChainId","required":true,"in":"query","schema":{"type":"number"}},{"name":"destChainId","required":true,"in":"query","schema":{"type":"number"}},{"name":"srcTokenAddress","required":true,"in":"query","schema":{"type":"string"}},{"name":"destTokenAddress","required":true,"in":"query","schema":{"type":"string"}},{"name":"srcTokenAmount","required":true,"in":"query","schema":{"type":"string"}},{"name":"slippage","required":false,"in":"query","schema":{"type":"number"}},{"name":"aggIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"bridgeIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"insufficientBal","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"fee","required":false,"in":"query","description":"Custom fee rate in basis points (0-10000 bps)","schema":{"minimum":0,"maximum":99000,"type":"number"}},{"name":"noFee","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"resetApproval","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"refuel","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded7702","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"clientId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"SSE stream of quotes. Each event contains a QuoteResponseDto.","content":{"text/event-stream":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/QuoteResponseDto"},"type":{"type":"string","example":"quote"},"id":{"type":"string","example":"1234567890-0"}}}}}}},"tags":["Quotes"]}},"/getQuote":{"get":{"operationId":"AggregatorController_getQuote","summary":"Gets Bridge Quotes","description":"Returns Bridge quotes from across all aggregators","parameters":[{"name":"walletAddress","required":true,"in":"query","schema":{"type":"string"}},{"name":"destWalletAddress","required":false,"in":"query","schema":{"type":"string"}},{"name":"srcChainId","required":true,"in":"query","schema":{"type":"number"}},{"name":"destChainId","required":true,"in":"query","schema":{"type":"number"}},{"name":"srcTokenAddress","required":true,"in":"query","schema":{"type":"string"}},{"name":"destTokenAddress","required":true,"in":"query","schema":{"type":"string"}},{"name":"srcTokenAmount","required":true,"in":"query","schema":{"type":"string"}},{"name":"slippage","required":false,"in":"query","schema":{"type":"number"}},{"name":"aggIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"bridgeIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"insufficientBal","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"fee","required":false,"in":"query","description":"Custom fee rate in basis points (0-10000 bps)","schema":{"minimum":0,"maximum":99000,"type":"number"}},{"name":"noFee","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"resetApproval","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"refuel","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"gasIncluded7702","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"clientId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved quotes","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuoteResponseDto"}}}}}},"tags":["Quotes"]}},"/v2/getTxStatus":{"get":{"operationId":"AggregatorController_getTxStatusV2","summary":"Gets Bridge Status","description":"Returns a Bridge's status for a given and whether it was successful or not, or is pending completion","parameters":[{"name":"bridgeId","required":true,"in":"query","schema":{"type":"string"}},{"name":"srcTxHash","required":true,"in":"query","schema":{"type":"string"}},{"name":"requestId","required":false,"in":"query","schema":{"type":"string"}},{"name":"refuel","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Successfully retrieved transaction status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}}},"tags":["Status"]}},"/getTxStatus":{"get":{"operationId":"AggregatorController_getTxStatus","summary":"Gets Bridge Status","description":"Returns a Bridge's status for a given and whether it was successful or not, or is pending completion","parameters":[{"name":"bridgeId","required":true,"in":"query","schema":{"type":"string"}},{"name":"srcTxHash","required":true,"in":"query","schema":{"type":"string"}},{"name":"requestId","required":false,"in":"query","schema":{"type":"string"}},{"name":"srcChainId","required":true,"in":"query","schema":{"type":"number"}},{"name":"destChainId","required":true,"in":"query","schema":{"type":"number"}},{"name":"refuel","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Successfully retrieved transaction status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}}},"tags":["Status"]}},"/getAllFeatureFlags":{"get":{"operationId":"AggregatorController_getAllFeatureFlags","summary":"Get a list of all the Launch Darkly Flags","description":"Useful for debugging and informational purposes. Retruns a JSON of all the Bridge Launch Darkly Flags","parameters":[],"responses":{"200":{"description":""}},"tags":["Flags"]}},"/providerCheck":{"get":{"operationId":"AggregatorController_providerCheck","parameters":[],"responses":{"200":{"description":""}}}},"/addresses":{"get":{"operationId":"AggregatorController_getContractAddresses","parameters":[],"responses":{"200":{"description":""}}}},"/aggregators":{"get":{"operationId":"AggregatorController_getAggregatorsSupportingLifecycle","parameters":[{"name":"chainId","required":true,"in":"query","description":"The chain ID to check lifecycle support for","schema":{"enum":[20000000000001,1,10,56,137,143,324,1329,8453,42161,43114,59144,1151111081099710,728126428],"type":"number"}},{"name":"operation","required":true,"in":"query","description":"The operation type to check lifecycle support for","schema":{"enum":["send","swap","bridge","wrap","getBridgeStatus","refuel","gaslessSwap","intentSwap","gaslessBridge"],"type":"string"}}],"responses":{"200":{"description":""}}}},"/aggregators/all":{"get":{"operationId":"AggregatorController_getAllSupportedCombinations","parameters":[],"responses":{"200":{"description":""}}}},"/submitOrder":{"post":{"operationId":"AggregatorController_submitOrder","summary":"Submit Intent Order","description":"Submit a signed intent order to an aggregator (e.g., CowSwap)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitIntentOrderRequestDto"}}}},"responses":{"201":{"description":""}},"tags":["Intent Orders"]}},"/getOrderStatus":{"get":{"operationId":"AggregatorController_getOrderStatus","summary":"Get Order Status","description":"Get the status of a submitted intent order","parameters":[{"name":"orderId","required":true,"in":"query","description":"The order ID returned from submitOrder","schema":{"type":"string"}},{"name":"srcChainId","required":true,"in":"query","description":"The chain where the order was submitted","schema":{"enum":[20000000000001,1,10,56,137,143,324,1329,8453,42161,43114,59144,1151111081099710,728126428],"type":"number"}},{"name":"aggregatorId","required":true,"in":"query","description":"Which aggregator to query (e.g., COWSWAP)","schema":{"enum":["lifi","socket","squid","jupiter","kyberswap","wrapped_native","1inch","0x","openocean","pmm","rango","airswap","debridge","okx","cowswap","bridgers","xoswap","relay","across","relay_native","stargate","mayan"],"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Intent Orders"]}},"/getTokens":{"get":{"operationId":"TokensController_getTokens","summary":"Returns a list of all Bridge Tokens","description":"Returns a list of all the supported Bridge Tokens","parameters":[{"name":"chainId","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Tokens"]}},"/getTokens/popular":{"post":{"operationId":"TokensController_getPopularTokens","summary":"Returns a list of all Bridge Tokens","description":"Returns a list of all the supported Bridge Tokens","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PopularTokensRequestDto"}}}},"responses":{"201":{"description":""}},"tags":["Tokens"]}},"/getTokens/search":{"post":{"operationId":"TokensController_searchTokens","summary":"Returns a list of all Bridge Tokens","description":"Returns a list of all the supported Bridge Tokens","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequestDto"}}}},"responses":{"201":{"description":""}},"tags":["Tokens"]}},"/decode/{action}/{srcChainId}/{txHash}":{"get":{"operationId":"DecoderController_decode","summary":"Decodes a MetaBridge Transaction","description":"Useful for debugging and informational purposes. Decodes a Bridge transaction and what was submitted on chain","parameters":[{"name":"srcChainId","required":true,"in":"path","schema":{"type":"number"}},{"name":"txHash","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Decoder","Decode"]}},"/relay/quote":{"post":{"operationId":"RelayProxyController_proxyRelayQuote","summary":"Get a quote from Relay API","description":"Proxies a quote request to the Relay API to safeguard the API key. Accepts all parameters needed for the Relay quote request.","parameters":[],"responses":{"200":{"description":"Successfully retrieved quote from Relay","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Invalid request parameters"},"500":{"description":"Internal server error or Relay API error"}},"tags":["Relay Proxy"]}},"/featureFlags":{"get":{"operationId":"SwapsController_getFeatureFlags","parameters":[],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}":{"get":{"operationId":"SwapsController_getNetworkConfig","parameters":[],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}/tokens":{"get":{"operationId":"SwapsController_getTokens","parameters":[{"name":"chainId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}/token":{"get":{"operationId":"SwapsController_getToken","parameters":[{"name":"chainId","required":true,"in":"path","schema":{"type":"number"}},{"name":"address","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}/topAssets":{"get":{"operationId":"SwapsController_getTopAssets","parameters":[{"name":"chainId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}/aggregators":{"get":{"operationId":"SwapsController_getSupportedAggregators","parameters":[{"name":"chainId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}/aggregatorMetadata":{"get":{"operationId":"SwapsController_getAggregatorMetadata","parameters":[{"name":"chainId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}/unsupportedTokens":{"get":{"operationId":"SwapsController_getUnsupportedTokens","parameters":[{"name":"chainId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Swaps"]}},"/networks/{chainId}/blockedTokens":{"get":{"operationId":"SwapsController_getBlockedTokens","parameters":[{"name":"chainId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Swaps"]}}},"info":{"title":"Crosschain API","description":"API for fetching crosschain quotes on EVM networks","version":"v0.0.1","contact":{}},"tags":[{"name":"Health","description":"System Health Endpoints"}],"servers":[{"url":"https://bridge.dev-api.cx.metamask.io/","description":"Development instance (MMCX)"},{"url":"https://bridge.uat-api.cx.metamask.io/","description":"Staging instance (MMCX)"},{"url":"https://bridge.api.cx.metamask.io/","description":"Production instance (MMCX)"},{"url":"http://localhost:4000/","description":"Local instance"}],"components":{"schemas":{"TokenDto":{"type":"object","properties":{"chainId":{"type":"number"},"assetId":{"type":"string"},"name":{"type":"string"},"symbol":{"type":"string"},"address":{"type":"string"},"decimals":{"type":"number"},"iconUrl":{"type":"string"},"coingeckoId":{"type":"string"},"aggregators":{"type":"array","items":{"type":"string"}},"occurrences":{"type":"number"},"fee":{"type":"number"},"metadata":{"type":"object"},"price":{"type":"string"}},"required":["chainId","assetId","name","symbol","address","decimals","aggregators"]},"ProtocolDto":{"type":"object","properties":{"name":{"type":"string"},"displayName":{"type":"string"},"icon":{"type":"string"}},"required":["name"]},"StepDto":{"type":"object","properties":{"action":{"type":"string","enum":["send","swap","bridge","wrap","getBridgeStatus","refuel","gaslessSwap","intentSwap","gaslessBridge"]},"srcChainId":{"type":"number","enum":[20000000000001,1,10,56,137,143,324,1329,8453,42161,43114,59144,1151111081099710,728126428]},"destChainId":{"type":"number","enum":[20000000000001,1,10,56,137,143,324,1329,8453,42161,43114,59144,1151111081099710,728126428]},"srcAsset":{"$ref":"#/components/schemas/TokenDto"},"destAsset":{"$ref":"#/components/schemas/TokenDto"},"srcAmount":{"type":"string"},"destAmount":{"type":"string"},"protocol":{"$ref":"#/components/schemas/ProtocolDto"}},"required":["action","srcChainId","srcAsset","destAsset","srcAmount","destAmount","protocol"]},"BridgePriceDataDto":{"type":"object","properties":{"totalFromAmountUsd":{"type":"string"},"totalToAmountUsd":{"type":"string"},"priceImpact":{"type":"string"},"totalFeeAmountUsd":{"type":"string"}},"required":["totalFromAmountUsd","totalToAmountUsd","priceImpact"]},"CrossChainQuoteDto":{"type":"object","properties":{"requestId":{"type":"string"},"bridgeId":{"type":"string"},"srcChainId":{"type":"number"},"srcAsset":{"$ref":"#/components/schemas/TokenDto"},"srcTokenAmount":{"type":"string"},"destChainId":{"type":"number"},"destAsset":{"$ref":"#/components/schemas/TokenDto"},"destTokenAmount":{"type":"string"},"minDestTokenAmount":{"type":"string"},"feeData":{"type":"object"},"aggregator":{"type":"string"},"bridges":{"description":"To be deprecated.","type":"array","items":{"type":"string"}},"protocols":{"description":"Should be identical to bridges. Bridges field is to be deprecated.","type":"array","items":{"type":"string"}},"steps":{"type":"array","items":{"$ref":"#/components/schemas/StepDto"}},"refuel":{"$ref":"#/components/schemas/StepDto"},"priceData":{"$ref":"#/components/schemas/BridgePriceDataDto"},"gasIncluded":{"type":"boolean"},"gasIncluded7702":{"type":"boolean"},"slippage":{"type":"number","description":"On solana we sometimes use the auto slippage so we need to get it from provider, however not all return it."},"gasSponsored":{"type":"boolean"},"aggregatorType":{"type":"string","description":"Optional for backwards compatibility"},"walletAddress":{"type":"string"},"destWalletAddress":{"type":"string"}},"required":["requestId","bridgeId","srcChainId","srcAsset","srcTokenAmount","destChainId","destAsset","destTokenAmount","minDestTokenAmount","feeData","aggregator","bridges","protocols","steps","priceData"]},"QuoteResponseDto":{"type":"object","properties":{"quote":{"$ref":"#/components/schemas/CrossChainQuoteDto"},"approval":{"type":"object"},"trade":{"type":"object"},"estimatedProcessingTimeInSeconds":{"type":"number"}},"required":["quote","trade","estimatedProcessingTimeInSeconds"]},"StatusDto":{"type":"object","properties":{"chainId":{"type":"number"},"txHash":{"type":"string","nullable":true},"amount":{"type":"string","nullable":true},"token":{"$ref":"#/components/schemas/TokenDto"}},"required":["chainId"]},"StatusResponseDto":{"type":"object","properties":{"status":{"type":"string"},"srcChain":{"$ref":"#/components/schemas/StatusDto"},"destChain":{"$ref":"#/components/schemas/StatusDto"},"bridge":{"type":"string"},"isExpectedToken":{"type":"boolean"},"isUnrecognizedRouterAddress":{"type":"boolean"},"refuel":{"$ref":"#/components/schemas/StatusResponseDto"}},"required":["status","srcChain"]},"SubmitIntentOrderRequestDto":{"type":"object","properties":{"srcChainId":{"type":"number","description":"The chain where the order executes","enum":[20000000000001,1,10,56,137,143,324,1329,8453,42161,43114,59144,1151111081099710,728126428]},"quoteId":{"type":"string","description":"The quote/request ID from getQuote response"},"signature":{"type":"string","description":"User's EIP-712 signature of the order"},"order":{"type":"object","description":"The order data from quote.intent.order"},"userAddress":{"type":"string","description":"The user's wallet address"},"aggregatorId":{"type":"string","description":"Which aggregator to use (e.g., COWSWAP)","enum":["lifi","socket","squid","jupiter","kyberswap","wrapped_native","1inch","0x","openocean","pmm","rango","airswap","debridge","okx","cowswap","bridgers","xoswap","relay","across","relay_native","stargate","mayan"]}},"required":["srcChainId","quoteId","signature","order","userAddress","aggregatorId"]},"DefaultAssetIdDto":{"type":"object","properties":{}},"PopularTokensRequestDto":{"type":"object","properties":{"chainIds":{"description":"Array of chain IDs in CAIP-2 format","example":["eip155:1","eip155:137"],"type":"array","items":{"type":"string"}},"includeAssets":{"description":"Array of default asset IDs in CAIP-19 format to ensure inclusion in the response","example":[{"assetId":"eip155:1/erc20:0xa0b86a33e6441b8c4c8c0e1234567890abcdef123","name":"USD Coin","symbol":"USDC","decimals":18}],"type":"array","items":{"$ref":"#/components/schemas/DefaultAssetIdDto"}}},"required":["chainIds"]},"SearchRequestDto":{"type":"object","properties":{"chainIds":{"description":"Array of chain IDs in CAIP-2 format","example":["eip155:1","eip155:137"],"type":"array","items":{"type":"string"}},"query":{"type":"string","description":"Search query string","example":"USDC"},"after":{"type":"string","description":"Cursor for pagination","example":"MA=="},"includeAssets":{"description":"Array of default asset IDs in CAIP-19 format to ensure inclusion in the response","example":[{"assetId":"eip155:1/erc20:0xa0b86a33e6441b8c4c8c0e1234567890abcdef123","name":"USD Coin","symbol":"USDC","decimals":18}],"type":"array","items":{"$ref":"#/components/schemas/DefaultAssetIdDto"}}},"required":["chainIds","query"]}}}}