import { CHAIN_IDS } from '@metamask/transaction-controller';
import type { Hex } from '@metamask/utils';

export const SWAPS_API_V2_BASE_URL = 'https://swap.api.cx.metamask.io';

export const SWAPS_TESTNET_CHAIN_ID = '0x539'; // 1337 in decimal

const ETH_SWAPS_CONTRACT_ADDRESS = '0x881d40237659c251811cec9c364ef91dc08d300c';
const BSC_SWAPS_CONTRACT_ADDRESS = '0x1a1ec25dc08e98e5e93f1104b5e5cdd298707d31';
const POLYGON_SWAPS_CONTRACT_ADDRESS =
  '0x1a1ec25dc08e98e5e93f1104b5e5cdd298707d31';
const AVALANCHE_SWAPS_CONTRACT_ADDRESS =
  '0x1a1ec25dc08e98e5e93f1104b5e5cdd298707d31';
const ARBITRUM_SWAPS_CONTRACT_ADDRESS =
  '0x9dda6ef3d919c9bc8885d5560999a3640431e8e6';
const OPTIMISM_SWAPS_CONTRACT_ADDRESS =
  '0x9dda6ef3d919c9bc8885d5560999a3640431e8e6';
const ZKSYNC_ERA_SWAPS_CONTRACT_ADDRESS =
  '0xf504c1fe13d14df615e66dcd0abf39e60c697f34';
const LINEA_SWAPS_CONTRACT_ADDRESS =
  '0x9dda6ef3d919c9bc8885d5560999a3640431e8e6';
const BASE_SWAPS_CONTRACT_ADDRESS =
  '0x9dda6ef3d919c9bc8885d5560999a3640431e8e6';
const SEI_SWAPS_CONTRACT_ADDRESS = '0x962287c9d5B8a682389E61edAE90ec882325d08b';

export const SWAPS_CONTRACT_ADDRESSES: Record<Hex, Hex> = {
  [CHAIN_IDS.MAINNET]: ETH_SWAPS_CONTRACT_ADDRESS,
  [SWAPS_TESTNET_CHAIN_ID]: ETH_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.BSC]: BSC_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.POLYGON]: POLYGON_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.AVALANCHE]: AVALANCHE_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.ARBITRUM]: ARBITRUM_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.OPTIMISM]: OPTIMISM_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.ZKSYNC_ERA]: ZKSYNC_ERA_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.LINEA_MAINNET]: LINEA_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.BASE]: BASE_SWAPS_CONTRACT_ADDRESS,
  [CHAIN_IDS.SEI]: SEI_SWAPS_CONTRACT_ADDRESS,
};

const WETH_CONTRACT_ADDRESS = '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2';
const WBNB_CONTRACT_ADDRESS = '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c';
const WMATIC_CONTRACT_ADDRESS = '0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270';
const WAVAX_CONTRACT_ADDRESS = '0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7';
const WETH_ARBITRUM_CONTRACT_ADDRESS =
  '0x82af49447d8a07e3bd95bd0d56f35241523fbab1';
const WETH_OPTIMISM_CONTRACT_ADDRESS =
  '0x4200000000000000000000000000000000000006';
const WETH_ZKSYNC_ERA_CONTRACT_ADDRESS =
  '0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91';
const WETH_LINEA_CONTRACT_ADDRESS =
  '0xe5D7C2a44FfDDf6b295A15c148167daaAf5Cf34f';
const WETH_BASE_CONTRACT_ADDRESS = '0x4200000000000000000000000000000000000006';
const WSEI_SEI_CONTRACT_ADDRESS = '0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7';

export const SWAPS_WRAPPED_TOKENS_ADDRESSES: Record<Hex, Hex> = {
  [CHAIN_IDS.MAINNET]: WETH_CONTRACT_ADDRESS,
  [SWAPS_TESTNET_CHAIN_ID]: WETH_CONTRACT_ADDRESS,
  [CHAIN_IDS.BSC]: WBNB_CONTRACT_ADDRESS,
  [CHAIN_IDS.POLYGON]: WMATIC_CONTRACT_ADDRESS,
  [CHAIN_IDS.AVALANCHE]: WAVAX_CONTRACT_ADDRESS,
  [CHAIN_IDS.ARBITRUM]: WETH_ARBITRUM_CONTRACT_ADDRESS,
  [CHAIN_IDS.OPTIMISM]: WETH_OPTIMISM_CONTRACT_ADDRESS,
  [CHAIN_IDS.ZKSYNC_ERA]: WETH_ZKSYNC_ERA_CONTRACT_ADDRESS,
  [CHAIN_IDS.LINEA_MAINNET]: WETH_LINEA_CONTRACT_ADDRESS,
  [CHAIN_IDS.BASE]: WETH_BASE_CONTRACT_ADDRESS,
  [CHAIN_IDS.SEI]: WSEI_SEI_CONTRACT_ADDRESS,
};

export const ALLOWED_CONTRACT_ADDRESSES: Record<Hex, Hex[]> = {
  [CHAIN_IDS.MAINNET]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.MAINNET],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.MAINNET],
  ],
  [SWAPS_TESTNET_CHAIN_ID]: [
    SWAPS_CONTRACT_ADDRESSES[SWAPS_TESTNET_CHAIN_ID],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[SWAPS_TESTNET_CHAIN_ID],
  ],
  [CHAIN_IDS.BSC]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.BSC],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.BSC],
  ],
  [CHAIN_IDS.POLYGON]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.POLYGON],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.POLYGON],
  ],
  [CHAIN_IDS.AVALANCHE]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.AVALANCHE],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.AVALANCHE],
  ],
  [CHAIN_IDS.ARBITRUM]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.ARBITRUM],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.ARBITRUM],
  ],
  [CHAIN_IDS.OPTIMISM]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.OPTIMISM],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.OPTIMISM],
  ],
  [CHAIN_IDS.ZKSYNC_ERA]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.ZKSYNC_ERA],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.ZKSYNC_ERA],
  ],
  [CHAIN_IDS.LINEA_MAINNET]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.LINEA_MAINNET],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.LINEA_MAINNET],
  ],
  [CHAIN_IDS.BASE]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.BASE],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.BASE],
  ],
  [CHAIN_IDS.SEI]: [
    SWAPS_CONTRACT_ADDRESSES[CHAIN_IDS.SEI],
    SWAPS_WRAPPED_TOKENS_ADDRESSES[CHAIN_IDS.SEI],
  ],
};
